//this file is generated by program(drogon_ctl) automatically,don't modify it!
#include "data.h"
#include <drogon/utils/OStringStream.h>
#include <drogon/utils/Utilities.h>
#include <string>
#include <map>
#include <vector>
#include <set>
#include <iostream>
#include <unordered_map>
#include <unordered_set>
#include <algorithm>
#include <list>
#include <deque>
#include <queue>
using namespace drogon;
std::string data::genText(const DrTemplateData& data_view_data)
{
	drogon::OStringStream data_tmp_stream;
	std::string layoutName{""};
	data_tmp_stream << "<!DOCTYPE html>\n";
	data_tmp_stream << "<html>\n";
	data_tmp_stream << "    ";
    auto data = data_view_data.get<std::vector<std::map<std::string, std::string>>>("data");
    
	data_tmp_stream << "<head>\n";
	data_tmp_stream << "    <meta charset=\"UTF-8\">\n";
	data_tmp_stream << "    <title>\n";
	data_tmp_stream << "        Sensor Data\n";
	data_tmp_stream << "    </title>\n";
	data_tmp_stream << "    <style>\n";
	data_tmp_stream << "        body {\n";
	data_tmp_stream << "            font-family: Arial, sans-serif;\n";
	data_tmp_stream << "            margin: 20px;\n";
	data_tmp_stream << "        }\n";
data_tmp_stream<<"\n";
	data_tmp_stream << "        table {\n";
	data_tmp_stream << "            border-collapse: collapse;\n";
	data_tmp_stream << "            width: 80%;\n";
	data_tmp_stream << "            margin: auto;\n";
	data_tmp_stream << "        }\n";
data_tmp_stream<<"\n";
	data_tmp_stream << "        th,\n";
	data_tmp_stream << "        td {\n";
	data_tmp_stream << "            border: 1px solid #ccc;\n";
	data_tmp_stream << "            padding: 8px 12px;\n";
	data_tmp_stream << "            text-align: center;\n";
	data_tmp_stream << "        }\n";
data_tmp_stream<<"\n";
	data_tmp_stream << "        th {\n";
	data_tmp_stream << "            background-color: #f2f2f2;\n";
	data_tmp_stream << "        }\n";
data_tmp_stream<<"\n";
	data_tmp_stream << "        h1 {\n";
	data_tmp_stream << "            text-align: center;\n";
	data_tmp_stream << "        }\n";
	data_tmp_stream << "    </style>\n";
	data_tmp_stream << "</head>\n";
data_tmp_stream<<"\n";
	data_tmp_stream << "<body>\n";
	data_tmp_stream << "    <h1>Sensor Data</h1>\n";
	data_tmp_stream << "    <table>\n";
	data_tmp_stream << "        <tr>\n";
	data_tmp_stream << "            <th>Sensor ID</th>\n";
	data_tmp_stream << "            <th>Date</th>\n";
	data_tmp_stream << "            <th>Time</th>\n";
	data_tmp_stream << "            <th>Light (lx)</th>\n";
	data_tmp_stream << "        </tr>\n";
	data_tmp_stream << "        ";
 for(auto row : data){ 
	data_tmp_stream << "            <tr>\n";
	data_tmp_stream << "                <td>";
data_tmp_stream<<row["sensor_id"];
	data_tmp_stream << "</td>\n";
	data_tmp_stream << "                <td>";
data_tmp_stream<<row["date"];
	data_tmp_stream << "</td>\n";
	data_tmp_stream << "                <td>";
data_tmp_stream<<row["time"];
	data_tmp_stream << "</td>\n";
	data_tmp_stream << "                <td>";
data_tmp_stream<<row["light"];
	data_tmp_stream << "</td>\n";
	data_tmp_stream << "            </tr>\n";
	data_tmp_stream << "        ";
 } 
	data_tmp_stream << "    </table>\n";
	data_tmp_stream << "</body>\n";
data_tmp_stream<<"\n";
data_tmp_stream<<"\n";
data_tmp_stream<<"\n";
	data_tmp_stream << "</html>\n";
if(layoutName.empty())
{
std::string ret{std::move(data_tmp_stream.str())};
return ret;
}else
{
auto templ = DrTemplateBase::newTemplate(layoutName);
if(!templ) return "";
HttpViewData data = data_view_data;
auto str = std::move(data_tmp_stream.str());
if(!str.empty() && str[str.length()-1] == '\n') str.resize(str.length()-1);
data[""] = std::move(str);
return templ->genText(data);
}
}
